extends layout

block content
  h1 Books
  p
    a(class="button" href="/books/new") Create New book
    form(action="/books")
      label(for="search")
      button.button(type="submit" id="search" value="search") Search
      input(type="text" name="search" placeholder="Search by title,author,name,year...")

  table 
    thead 
      tr 
        th Title 
        th Author
        th Genre 
        th Year 
      each book in books 
        tr 
          td 
            a(href="/books/" + book.id)=  book.title
          td= book.author 
          td= book.genre 
          td= book.year

  div(class="pagination-button")
  ul.pagination
    

    while startIndex > 1 
      li.page-item 
        a.page-link(href=`?page=${results - 1}`) Previous

    - var i = 1;
    while i <= results
      li.page-item 
        a.page-link(href=`?page=${i}`)= i++

    while results < endIndex
      li.page-item 
        a.page-link(href=`?page=${parseInt(results) + 1}`) Next 


  